<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra Pro PDF Studio X</title>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

<style>
body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#7c3aed,#ec4899);
animation:move 8s infinite alternate;
color:white;
text-align:center;
}
@keyframes move{
0%{background-position:left;}
100%{background-position:right;}
}

.card{
background:white;
color:black;
max-width:900px;
margin:30px auto;
padding:25px;
border-radius:25px;
box-shadow:0 15px 40px rgba(0,0,0,0.3);
animation:fade 1s ease-in-out;
}
@keyframes fade{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;transform:translateY(0);}
}

button{
padding:10px 20px;
border:none;
border-radius:25px;
margin:8px;
background:linear-gradient(45deg,#7c3aed,#ec4899);
color:white;
cursor:pointer;
transition:0.3s;
}
button:hover{
transform:scale(1.08);
}

#editor{
min-height:200px;
border:1px solid #ccc;
border-radius:15px;
padding:10px;
margin-top:15px;
text-align:left;
}

input[type=range]{
width:80%;
}

.dark{
background:#111;
color:white;
}
</style>
</head>
<body>

<div class="card" id="loginPage">
<h2>Login with Gmail</h2>
<button onclick="googleLogin()">Sign in with Google</button>
</div>

<div class="card" id="appPage" style="display:none;">
<h2>Ultra Pro PDF Studio X</h2>

<button onclick="toggleDark()">Dark Mode</button>

<hr>

<input type="file" id="imageInput" accept="image/*">
<br>
<label>Resize Scale:</label>
<input type="range" min="0.1" max="2" step="0.1" value="1" id="scaleSlider">

<div id="preview"></div>

<hr>

<h3>Word Style Editor</h3>
<div contenteditable="true" id="editor">
Type your text here...
</div>

<br>

<button onclick="imageToPDF()">Image â†’ PDF</button>
<button onclick="textToPDF()">Text â†’ PDF</button>
<button onclick="resizeImage()">Resize Image</button>
<button onclick="removeBG()">Remove BG</button>

</div>

<script>
// ðŸ”¥ Paste Firebase Config Here
const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_AUTH_DOMAIN",
projectId: "YOUR_PROJECT_ID",
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

function googleLogin(){
const provider = new firebase.auth.GoogleAuthProvider();
auth.signInWithPopup(provider)
.then(()=>{
document.getElementById("loginPage").style.display="none";
document.getElementById("appPage").style.display="block";
});
}

// DARK MODE
function toggleDark(){
document.body.classList.toggle("dark");
}

// IMAGE TO PDF
async function imageToPDF(){
const file=document.getElementById("imageInput").files[0];
if(!file) return alert("Upload image");

const reader=new FileReader();
reader.onload=function(e){
const { jsPDF } = window.jspdf;
const pdf=new jsPDF("p","mm","a4");
pdf.addImage(e.target.result,'JPEG',10,10,190,270);
pdf.save("ImagePDF.pdf");
}
reader.readAsDataURL(file);
}

// TEXT TO MULTI PAGE PDF
function textToPDF(){
const text=document.getElementById("editor").innerText;
const { jsPDF } = window.jspdf;
const pdf=new jsPDF("p","mm","a4");

const lines = pdf.splitTextToSize(text, 180);
pdf.text(lines, 15, 20);
pdf.save("TextPDF.pdf");
}

// RESIZE IMAGE WITH SLIDER
function resizeImage(){
const file=document.getElementById("imageInput").files[0];
if(!file) return alert("Upload image");

const scale=document.getElementById("scaleSlider").value;
const img=new Image();
const reader=new FileReader();

reader.onload=function(e){
img.src=e.target.result;
img.onload=function(){
const canvas=document.createElement("canvas");
canvas.width=img.width*scale;
canvas.height=img.height*scale;
const ctx=canvas.getContext("2d");
ctx.drawImage(img,0,0,canvas.width,canvas.height);
document.getElementById("preview").innerHTML="";
document.getElementById("preview").appendChild(canvas);
}
}
reader.readAsDataURL(file);
}

// BETTER BG REMOVE
function removeBG(){
const file=document.getElementById("imageInput").files[0];
if(!file) return alert("Upload image");

const img=new Image();
const reader=new FileReader();

reader.onload=function(e){
img.src=e.target.result;
img.onload=function(){
const canvas=document.createElement("canvas");
canvas.width=img.width;
canvas.height=img.height;
const ctx=canvas.getContext("2d");
ctx.drawImage(img,0,0);
const imgData=ctx.getImageData(0,0,canvas.width,canvas.height);
const data=imgData.data;

for(let i=0;i<data.length;i+=4){
let r=data[i], g=data[i+1], b=data[i+2];
if(r>220 && g>220 && b>220){
data[i+3]=0;
}
}

ctx.putImageData(imgData,0,0);
document.getElementById("preview").innerHTML="";
document.getElementById("preview").appendChild(canvas);
}
}
reader.readAsDataURL(file);
}
</script>

</body>
</html>
